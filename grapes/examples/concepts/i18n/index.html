<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GrapesJS concepts of Internationalization</title>
    <!-- GrapesJS CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/grapesjs/dist/css/grapes.min.css"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
      }

      .header {
        background-color: #333;
        color: white;
        padding: 10px 20px;
        text-align: center;
        font-size: 18px;
        font-weight: bold;
      }

      .instructions {
        background-color: #f8f9fa;
        padding: 15px;
        border-bottom: 1px solid #ddd;
        font-size: 14px;
        color: #666;
      }
    </style>
  </head>
  <body>
    <div class="header">GrapesJS concepts of Internationalization</div>

    <div class="instructions">
      <strong>说明：</strong>
      这是一个 GrapesJS 组件概念演示。你可以在画布中拖拽、编辑和删除组件。
      双击文本可以编辑内容，选中元素可以在右侧面板中修改样式。
      <br>
      <br>
      <strong>I18n模块允许对编辑器用户界面中的字符串进行国际化和更新：</strong>
      <a href="https://grapesjs.com/docs/modules/I18n.html#configuration">文档</a>
      <br>
      <br>
      <strong>官方中文翻译：</strong>
      <a href="https://github.com/GrapesJS/grapesjs/blob/master/src/i18n/locale/zh.js">zh.js</a>
    </div>

    <!-- GrapesJS 编辑器容器 -->
    <div id="gjs"></div>

    <!-- GrapesJS JavaScript -->
    <script src="https://unpkg.com/grapesjs"></script>
    <script>
      // 初始化 GrapesJS 编辑器 - 使用最简配置
      const editor = grapesjs.init({
        container: "#gjs",
        // 禁用存储管理器
        storageManager: false,
        i18n: {
          locale: getI18nChineseKey(),
          messages: {
            [getI18nChineseKey()]: getI18nChinese() 
          },
        },
        components: [
          `
            <p style="color: red;">hello world</p>
          `
        ]
      });

      function getI18nChineseKey() {
        return 'zh'
      }

      function getI18nChinese() {
        const traitInputAttr = { placeholder: '例子. 输入文字' };
        return {
          assetManager: {
            addButton: '添加图片',
            inputPlh: 'http://path/to/the/image.jpg',
            modalTitle: '选择图片',
            uploadTitle: '点击或者拖拽图片上传',
          },
          domComponents: {
            names: {
              '': 'Box',
              wrapper: 'Body',
              text: '文字',
              comment: '评论',
              image: '图片',
              video: '视频',
              label: '文本',
              link: '超链接',
              map: '地图',
              tfoot: '表格末尾',
              tbody: '表格主体',
              thead: '表头',
              table: '表格',
              row: '行',
              cell: '单元格',
            },
          },
          deviceManager: {
            device: '设备',
            devices: {
              desktop: '桌面',
              tablet: '平板',
              mobileLandscape: 'Mobile Landscape',
              mobilePortrait: 'Mobile Portrait',
            },
          },
          panels: {
            buttons: {
              titles: {
                preview: '预览',
                fullscreen: '全屏',
                'sw-visibility': '查看组件',
                'export-template': '查看代码',
                'open-sm': '打开样式管理器',
                'open-tm': '设置',
                'open-layers': '打开布局管理器',
                'open-blocks': '打开块',
              },
            },
          },
          selectorManager: {
            label: 'Classes',
            selected: 'Selected',
            emptyState: '- State -',
            states: {
              hover: 'Hover',
              active: 'Click',
              'nth-of-type(2n)': 'Even/Odd',
            },
          },
          styleManager: {
            empty: '设置样式前选择请一个元素',
            layer: '层级',
            fileButton: '图片',
            sectors: {
              general: '常规',
              layout: '布局',
              typography: '版式',
              decorations: '装饰',
              extra: '扩展',
              flex: '盒子模型',
              dimension: '尺寸',
            },
            // The core library generates the name by their `property` name
            properties: {
              // float: 'Float',
            },
          },
          traitManager: {
            empty: '用设置项前选择一个组件',
            label: '组件设置',
            traits: {
              // In a simple trait, like text input, these are used on input attributes
              attributes: {
                id: traitInputAttr,
                alt: traitInputAttr,
                title: traitInputAttr,
                href: { placeholder: 'eg. https://google.com' },
              },
              // In a trait like select, these are used to translate option names
              options: {
                target: {
                  false: '本窗口',
                  _blank: '新窗口',
                },
              },
            },
          },
};
      }
    </script>
  </body>
</html>
